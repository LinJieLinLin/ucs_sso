try{directiveSso}catch(e){directiveSso=angular.module("directiveSso",[])}directiveSso.directive("pagination",function(){return{template:'<div class="page-bar" ng-show="list.length>0"><a href="javascript:;" ng-class="current<=0?\'disabled\':\'\'" ng-click="prev()"><em class="emic">&lt;</em><em class="emf">上一页</em></a><a href="javascript:;" ng-repeat="key in keyList" ng-class="key==current ? \'cur\' : \'\'" ng-click="jump(key)">{{key+1}}</a><span ng-show="pLen>pMax && !hideEllipsis">...</span><a href="javascript:;" ng-class="current>=pLen-1?\'disabled\':\'\'" ng-click="next()"><em class="emf">下一页</em><em class="emic">&gt;</em></a><span class="jump-bar"><span>共<font class="blue-c">{{pLen}}</font>页</span><span>跳到 <input type="text" style="width:38px;height:19px;text-align:center;" ng-model="goKey"> 页</span><a href="" ng-click="go(goKey)">GO</a></span></div>',restrict:"E",replace:!0,transclude:!0,scope:{list:"=",pagefn:"=",pageargs:"="},controller:["$scope","$element","$attrs",function(e,t,a){e.$watch("pageargs",function(t,a){t&&(e.current=parseInt(e.pageargs.pn)-1,e.pageNode=e.current,e.pNum=parseInt(e.pageargs.ps),e.pMax=parseInt(e.pageargs.pl)||5,e.pagefn(e.pageargs,function(t){e.pLen=Math.ceil(parseInt(t.pa.total)/e.pNum),e.keyListWatch()}))},!0),e.reKeyList=function(t,a,n){e.keyList=[];for(var p=t;a>p&&!(p>=n);p++)e.hideEllipsis=p+1==e.pLen?!0:!1,e.keyList.push(p)},e.keyListWatch=function(){var t=e.pLen;if(t>e.pMax){var a=Math.ceil(e.pMax/2),n=e.current;n>=a&&n<t-(e.pMax-a)?e.reKeyList(n-(e.pMax-a),n+a,t):n>=t-(e.pMax-a)?e.reKeyList(t-e.pMax,t,t):a>=n&&e.reKeyList(0,t,e.pMax)}else e.reKeyList(0,t,e.pMax)},e.jump=function(t){e.pageNode!=t&&(e.current=t,e.pageNode=t,e.pageargs.pn=t+1,e.pagefn(e.pageargs,function(t){e.pLen=Math.ceil(parseInt(t.pa.total)/e.pNum),e.keyListWatch()}))},e.next=function(){e.current++,e.current>=e.pLen&&(e.current=e.pLen-1),e.jump(e.current)},e.prev=function(){e.current--,e.current<=0&&(e.current=0),e.jump(e.current)},e.go=function(t){var a=/^-?\d+$/g,n="";if(void 0===t||t.length<=0){n="输入不能为空！";try{binApp.alert(n,{action:"top"})}catch(p){alert(n)}}else if(a.test(t)){if(parseInt(t)>e.pLen){t=e.pLen,n="总共只有"+e.pLen+"页，为您转到最后一页！";try{binApp.alert(n,{action:"top"})}catch(p){alert(n)}}else if(parseInt(t)<=0){t=1,n="不能低于第1页,为您转到最前一页！";try{binApp.alert(n,{action:"top"})}catch(p){alert(n)}}e.jump(parseInt(t)-1),e.goKey=void 0}else if(t.match(/\s+/g)){n="输入不能有空格符！";try{binApp.alert(n,{action:"top"})}catch(p){alert(n)}}else{n="格式错误，请输入整数！";try{binApp.alert(n,{action:"top"})}catch(p){alert(n)}}}}]}});