try{directiveSso}catch(e){directiveSso=angular.module("directiveSso",[])}directiveSso.directive("headerSso",function(){return{templateUrl:"js/directive/header/header.html",restrict:"E",replace:!0,transclude:!0,scope:{c:"="},controller:["$scope","$timeout","$http","request",function(e,t,r,o){var n="http://localhost:7700/";e.readConfig=function(t){var r={};if(e.c)r=e.c;else try{r=DYCONFIG[t]}catch(o){}return r.rUrl&&"/"!==r.rUrl[r.rUrl.length-1]&&(r.rUrl+="/"),r.rUrl},e.init=function(){n=e.readConfig("sso")||n,e.requestUrl={logout:n+"sso/api/logout"}},e.logout=function(){var t={method:"GET",url:e.requestUrl.logout,params:{}};o(t).then(function(e){"OK"===e.data&&(ssoC.clearLocalStorage(),location.href="/sso")},function(e){console.log("logout error")})},e.init()}]}}),directiveSso.factory("request",["$http","$q",function(e,t){return function(r){return e(r).then(function(e){var r=t.defer();return angular.isUndefined(e.data.code)?r.reject({type:-1,data:e}):0!==e.data.code?r.reject({type:1,data:e}):r.resolve(e.data),r.promise},function(e){throw{type:-1,data:e}})}}]);